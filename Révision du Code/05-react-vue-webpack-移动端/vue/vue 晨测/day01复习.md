# Vue

一个渐进式 JS 框架

## MVVM

Vue 设计模式

- M - Model 数据层（data\methods\computed...）
- V - View 视图层（模板页面）
- VM - ViewModel 视图模型层
  - 数据绑定：M - V （给元素设置 value、textContent）
  - 事件监听：V - M （给元素绑定 input 事件，来收集用户输入的数据，从而更新 Model 层数据）

## 模板语法

1. 插值语法（双大括号表达式）：作为标签内使用

- 语法：`{{JS表达式}}`
- 作用：用来动态展示 js 数据

2. 指令语法：作为标签属性使用

- v-model
  - 作用：双向数据绑定
  - 使用：`v-model="JS 表达式"`
- v-bind
  - 作用：单向数据绑定、强制绑定数据
  - 使用：`v-bind:属性名="JS 表达式"`
  - 简写：`:属性名="JS 表达式"`
- v-on
  - 作用：绑定事件监听
  - 使用：`v-on:事件名="事件回调函数"`
  - 简写：`@事件名="事件回调函数"`
- v-if/v-else-if/v-else
  - 作用：条件渲染、显示隐藏
  - 使用：`v-if="JS 表达式"`
- v-show
  - 作用：条件渲染、显示隐藏
  - 使用：`v-show="JS 表达式"`
  - v-if 和 v-show 的区别
    - v-if 隐藏时会移除元素
    - v-show 隐藏时通过 display:none
- v-for
  - 作用：列表渲染、遍历展示数据
  - 使用：`v-for="(item, index) in 数据" :key="item.id"`

## 计算属性

- 使用

```js
computed: {
  // 只读
  xxx() {}
  // 可读可写
  xxx: {
    get() {},
    set() {}
  }
}
```

- 特点：
  - 有缓存
  - 一旦依赖的数据发生变化，才会重新计算，更新

## 监视属性

- 使用

```js
watch: {
  // 第一次不会触发
  xxx() {}
  // 第一次会触发
  xxx: {
    handler() {},
    immediate: true
  }
}
```

- 特点：
  - 监视某个已存在属性，一旦这个属性发生变化，就会触发指定函数

## 计算属性和监视属性的区别

当原有 data 属性不能直接完成需求，考虑使用以下两种方式：

1. 计算属性

	- 有返回值
	- 可以依赖 1 个或多个数据参与计算，返回新值
	- 不可以做异步操作
	- 有缓存

2. 监视属性

	- 没有返回值
	- 监视 1 个数据的变化
	- 可以做异步操作

3. 总结

	- 能用计算属性完成的功能，一定也可以用监视属性来完成（可能会很麻烦）
	- 使用时，优先考虑计算属性，计算属性做不了在使用监视属性

## 样式处理

1. class
  - 字符串形式

- `:class="xxx"`
  	- 对象形式
- `:class="{ xxx: true, yyy: false }"`
  	- 数组形式
- `:class="[xxx, yyy]"`

2. style

- `:style="{ fontSize: '20px', xxx: yyy }"`

3. 总结

	- 固定不变的样式，通过 class 写死

	- 会发生变化的样式

  	- 如果是有限几种的变化，可以用 :class
  	- 如果是无限的变化，可以用 :style
